
<project default="compile">

	<!-- Properties -->
	<property name="src.dir" value="src" />
	<property name="build.dir" value="build" />


	<property name="filename.src" value="jstat.src.js" />
	<property name="filename.min" value="jstat.min.js" />

	<property name="src.file" value="${build.dir}/${filename.src}" />

	<target name="clean">
		<delete dir="${build.dir}"/>
	</target>

	<target name="concat">
		<echo>Concatenating files</echo>
		<concat destfile="${src.file}">
			<filelist dir="${src.dir}">
				<!-- this list of files will need to be maintained -->
				<file name="core.js" />
				<file name="distribution.js" />
			</filelist>
		</concat>
	</target>

	<target name="compile" depends="concat">
		<echo>Minifying JavaScript</echo>
		<!-- Minify -->
		<java jar="compiler.jar" fork="true">
			<arg value="--js" />
			<arg line="${src.file}" />
			<arg line="--js_output_file ${build.dir}/${filename.min}" />
		</java>
	</target>
</project>
